@using Therasim.Application.Personas.Queries.GetPersonas
@using Therasim.Application.Skills.Queries.GetSkills
@using Therasim.Domain.Enums
<h3>Create Assessment</h3>
<EditForm Model="@CreateAssessmentModel" OnValidSubmit="@HandleValidSubmitAsync" FormName="create_assessment_form" novalidate>
    <DataAnnotationsValidator />
    <FluentValidationSummary />
    <FluentStack Orientation="Orientation.Horizontal">
        <FluentSelect TOption="PersonaDto"
                      Placeholder="Select persona..."
                      Items="@_personas"
                      Id="personas"
                      Required
                      OptionValue="@(p => p.Id.ToString())"
                      OptionText="@(p => p.Name)"
                      @bind-Value="@CreateAssessmentModel.PersonaId" />
        <FluentSelect TOption="SkillDto"
                      Placeholder="Select skill..."
                      Items="@_skills"
                      Id="skills"
                      OptionValue="@(p => p.Id.ToString())"
                      OptionText="@(p => p.Name)"
                      @bind-Value="@CreateAssessmentModel.SkillId" />
        <FluentSelect TOption="Language" Placeholder="Select language..." @bind-Value=@CreateAssessmentModel.Language>
            @foreach (Language language in Enum.GetValues<Language>())
            {
                <FluentOption Value=@(((int)language).ToString()) Selected=@(((int)language).ToString() == CreateAssessmentModel.Language)>@language.ToString()</FluentOption>
            }
        </FluentSelect>
        <FluentButton Type="ButtonType.Submit" Appearance="Appearance.Accent" IconStart="@(new Icons.Regular.Size16.Add())">Create</FluentButton>
    </FluentStack>
</EditForm>